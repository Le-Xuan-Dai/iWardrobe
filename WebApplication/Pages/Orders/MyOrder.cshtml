@page "/my-orders"
@model WebApplication.Pages.Orders.MyOrderModel
@{
}
<style>
    .iconAction {
        width: 2rem;
        height: 2rem;
    }
</style>


<div class="container">
    <h1>Orders</h1>
    <table class="table">
        <thead>
            <tr>
                <th style="background-color: #C0E862;">
                    Product ID
                </th>
                <th style="background-color: #C0E862;">
                    Product Image
                </th>
                <th style="background-color: #C0E862;">
                    Product Name
                </th>
                <th style="background-color: #C0E862;">
                    Customer
                </th>
                <th style="background-color: #C0E862;">
                    @Html.DisplayNameFor(model => model.Order[0].Note)
                </th>
                <th style="background-color: #C0E862;">
                    Status
                </th>
                <th style="background-color: #C0E862;">Actions</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model.Order)
            {
                <tr>
                    <td>
                        @Html.DisplayFor(modelItem => item.Product.ProductId)
                    </td>
                    <td>
                        <img src=@item.Product.ImageUrls[0]
                             class="d-block" style="width: 100px; min-height: 100px;" alt="...">
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Product.ProductName)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.User.Fullname)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Note)
                    </td>
                    <td>
                        @{
                            if (item.OrderStatus.Equals("PENDING"))
                            {
                                <span class="badge text-bg-info">Pending</span>
                            }
                            if (item.OrderStatus.Equals("PROCESSING"))
                            {
                                <span class="badge text-bg-success">Processing</span>
                            }
                            if (item.OrderStatus.Equals("SHIPPED"))
                            {
                                <span class="badge text-bg-primary">Shipped</span>
                            }
                            if (item.OrderStatus.Equals("DELIVERED"))
                            {
                                <span class="badge text-bg-dark">Delivered</span>
                            }
                            if (item.OrderStatus.Equals("CANCELLED"))
                            {
                                <span class="badge text-bg-danger">Cancelled</span>
                            }
                        }
                    </td>
                    <td>
                        <div class="h-100 d-flex align-items-center justify-content-center">
                            <a class="btn btn-sm btn-warning rounded-circle mx-1 iconAction" asp-page="./MyOrderDetails" asp-route-id="@item.OrderId">
                                <i class="fa-solid fa-info"></i>
                            </a>
                        </div>
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>
